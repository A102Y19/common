import pyautogui
import time

def wait_for_information_popup():
    print("Step 1: Waiting for 'Update Installer' popup...")

    # Step 1: Wait for Update Installer
    while True:
        installer = pyautogui.locateOnScreen("update_installer.png", confidence=0.8)
        if installer:
            print("Found 'Update Installer' popup.")
            break
        time.sleep(5)

    print("Step 2: Checking every minute for 'Information' popup...")

    # Step 2: Check for Information popup every 60 sec
    while True:
        info_popup = pyautogui.locateOnScreen("info_popup.png", confidence=0.8)
        if info_popup:
            print("Step 3: Found 'Information' popup.")
            try:
                ok_button = pyautogui.locateOnScreen("ok_button.png", confidence=0.8)
                if ok_button:
                    pyautogui.click(ok_button)
                    print("Clicked OK on Information popup.")
                else:
                    print("OK button not found.")
            except Exception as e:
                print(f"Error clicking OK: {e}")
            return
        print("No 'Information' popup yet. Waiting 60 seconds...")
        time.sleep(60)
